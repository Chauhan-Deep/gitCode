<ng-container *ngTemplateOutlet="loadSearchData ? filesSearched: filesProcessed">
</ng-container>

<div class="tree-view">
    <qx-tree #qxTreeComponent [qxData]="treeNodeOptions" [qxCheckedKeys]="checkedKeysList"
        [qxCheckable]="allowCheckable" [qxTreeTemplate]="qxResultTreeTemplate">
    </qx-tree>
</div>

<qrk-footer>
    <div>
            <qx-checkbox #overWriteCheckboxButton *ngIf="loadSearchData"
                [name]="'ids-lbl-overwrite-existing' | translate" [tooltip]="'ids-lbl-overwrite-existing' | translate">
            </qx-checkbox>
            <qx-button [disabled]="false"
                [name]="loadSearchData ? ('ids-lbl-convert-selected' | translate) : ('ids-btn-lbl-close' | translate)"
                [showBackground]='true' [isSelected]='false' (click)="convertSelectedDocuments()">
            </qx-button>
    </div>
</qrk-footer>

<ng-template #qxResultTreeTemplate let-node>
    <div class="qx-tree-node-content-wrapper">
        <span class="qx-tree-title">
            <img *ngIf="node.isLeaf" src="assets/images/ico-file.png" />
            <qx-label class=' node-name'>
                {{ node.title }}
            </qx-label>
            <qx-label class='node-path'>
                {{ node?.origin?.pathURL }}
            </qx-label>
            <img *ngIf="node.origin?.fileConverted"
                [src]="node?.origin?.fileConverted ? 'assets/images/ico-check-circle.png' : 'assets/images/ico-error-triangle.png'" />
        </span>
    </div>
</ng-template>
<ng-template #filesProcessed>
    <div>
        <span>
            <qx-label>
                {{totalNumOfFiles}} {{'ids-lbl-files-processed' | translate}}
            </qx-label>
            <img class="img-valign" src="assets/images/ico-check-circle.png" />
            <qx-label class="inline-right-align-text">
                {{numOfPassedFiles}} {{'ids-lbl-files-passed' | translate}}
            </qx-label>
            <img class="img-valign" src="assets/images/ico-error-triangle.png" />
            <qx-label class="inline-right-align-text">
                {{numOfFailedFiles}} {{'ids-lbl-files-failed' | translate}}
            </qx-label>
        </span>
    </div>
</ng-template>
<ng-template #filesSearched>
    <div>
        <span>
            <qx-checkbox #allFilesCheckboxButton [disabled]=false [name]="filesCountString" [state]="selectAllState"
                [showElipsis]=false (stateChange)="onSelectAllChange($event)"></qx-checkbox>
            <qx-label class="button-text">
                {{numOfINDDFiles}} INDD
            </qx-label>
            <qx-label class="button-text">
                {{numOfIDMLFiles}} IDML
            </qx-label>
        </span>
    </div>
</ng-template>